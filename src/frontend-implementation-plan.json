{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Per-route world landscape backgrounds with consistent dark overlay",
  "requirements": [
    {
      "id": "REQ-58",
      "summary": "Implement per-route background selection at the shared AppLayout level, including sensible inheritance for nested routes.",
      "acceptanceCriteria": [
        "Each of these routes renders a distinct background image: /, /home, /trip-builder, /results, /saved, /memory-finder, /groups, /profile.",
        "Nested routes reuse a sensible parent background (unless explicitly overridden): /memory-finder/$albumId uses the Memory Finder background; /groups/$groupId uses the Groups background.",
        "Backgrounds are visually behind the existing UI (TopNav, page content, Footer) and do not break layout sizing (still full height).",
        "Backgrounds render responsively (cover/center) without stretching artifacts, and remain performant (no visible jank when navigating)."
      ],
      "file_operations": [
        {
          "path": "frontend/src/lib/routeBackgrounds.ts",
          "operation": "create",
          "description": "Add a centralized route-to-background mapping utility that resolves the correct background image URL for a given pathname, including nested-route inheritance rules for /memory-finder/* and /groups/*. Also expose a list of all background URLs for optional preloading."
        },
        {
          "path": "frontend/src/components/layout/AppLayout.tsx",
          "operation": "modify",
          "description": "Apply the per-route background system at the layout level by reading the current pathname from the router state and selecting the mapped background image. Set the chosen background via a CSS variable or equivalent on the layout container so it consistently affects all routes, including nested routes. Add lightweight preloading of the known background images to minimize navigation jank."
        }
      ]
    },
    {
      "id": "REQ-59",
      "summary": "Add a consistent dark overlay/tint so foreground UI remains readable over landscape backgrounds while preserving the existing dark theme look.",
      "acceptanceCriteria": [
        "All pages keep sufficient text contrast (headings, body text, buttons, cards) against the background image.",
        "Cards and surfaces remain visually distinct from the background (no loss of boundaries).",
        "The overlay/tint approach is consistent across all routes and does not introduce new non-English user-facing text."
      ],
      "file_operations": [
        {
          "path": "frontend/index.css",
          "operation": "modify",
          "description": "Add shared CSS for the route background layer and a consistent dark overlay/tint (e.g., via fixed-position pseudo-elements) that sits behind TopNav/page/Footer but above the image, ensuring readable contrast and a consistent dark-theme presentation across all routes."
        },
        {
          "path": "frontend/src/components/layout/AppLayout.tsx",
          "operation": "modify",
          "description": "Update the layout structure/classes to ensure the background image layer and overlay are behind all existing UI, maintain full-height sizing, and avoid interfering with sticky TopNav/backdrop blur. Ensure the foreground content is positioned above the overlay for consistent readability."
        }
      ]
    },
    {
      "id": "REQ-60",
      "summary": "Add required landscape background images as static assets under frontend/public/assets/generated and reference them by exact filenames from the route mapping.",
      "acceptanceCriteria": [
        "All new background image files exist in frontend/public/assets/generated and are referenced via absolute paths like /assets/generated/<filename>.",
        "No backend changes are required to display backgrounds.",
        "Build passes and all routes render their intended backgrounds in production mode."
      ],
      "file_operations": [
        {
          "path": "frontend/public/assets/generated/bg-signin-alps-sunrise.dim_1920x1080.png",
          "operation": "create",
          "description": "Add the static background asset for the / route (sign-in): frontend/public/assets/generated/bg-signin-alps-sunrise.dim_1920x1080.png."
        },
        {
          "path": "frontend/public/assets/generated/bg-home-tokyo-night.dim_1920x1080.png",
          "operation": "create",
          "description": "Add the static background asset for the /home route: frontend/public/assets/generated/bg-home-tokyo-night.dim_1920x1080.png."
        },
        {
          "path": "frontend/public/assets/generated/bg-tripbuilder-santorini.dim_1920x1080.png",
          "operation": "create",
          "description": "Add the static background asset for the /trip-builder route: frontend/public/assets/generated/bg-tripbuilder-santorini.dim_1920x1080.png."
        },
        {
          "path": "frontend/public/assets/generated/bg-results-nyc-goldenhour.dim_1920x1080.png",
          "operation": "create",
          "description": "Add the static background asset for the /results route: frontend/public/assets/generated/bg-results-nyc-goldenhour.dim_1920x1080.png."
        },
        {
          "path": "frontend/public/assets/generated/bg-saved-sahara-sunset.dim_1920x1080.png",
          "operation": "create",
          "description": "Add the static background asset for the /saved route: frontend/public/assets/generated/bg-saved-sahara-sunset.dim_1920x1080.png."
        },
        {
          "path": "frontend/public/assets/generated/bg-memoryfinder-iceland-waterfall.dim_1920x1080.png",
          "operation": "create",
          "description": "Add the static background asset for the /memory-finder and /memory-finder/$albumId routes: frontend/public/assets/generated/bg-memoryfinder-iceland-waterfall.dim_1920x1080.png."
        },
        {
          "path": "frontend/public/assets/generated/bg-groups-norway-fjord.dim_1920x1080.png",
          "operation": "create",
          "description": "Add the static background asset for the /groups and /groups/$groupId routes: frontend/public/assets/generated/bg-groups-norway-fjord.dim_1920x1080.png."
        },
        {
          "path": "frontend/public/assets/generated/bg-profile-machu-picchu.dim_1920x1080.png",
          "operation": "create",
          "description": "Add the static background asset for the /profile route: frontend/public/assets/generated/bg-profile-machu-picchu.dim_1920x1080.png."
        },
        {
          "path": "frontend/src/lib/routeBackgrounds.ts",
          "operation": "modify",
          "description": "Wire the route-to-background mapping to reference the exact static asset filenames via absolute paths (e.g., /assets/generated/bg-home-tokyo-night.dim_1920x1080.png) with no backend involvement."
        }
      ]
    }
  ]
}